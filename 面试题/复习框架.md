# 复习框架

[复习重点](https://zhuanlan.zhihu.com/p/353140579)

## 数据结构

### 数据结构是什么

**数据结构**是计算机中存储、组织数据的方式，用来解决特定的时间空间问题

### 基本数据结构定义

**数组：**是在内存中是连续存储的，一旦申请内存完毕，就不许更改数组大小。

**链表：**在内存以节点的形式存储，可以存储于连续区域，也可以不连续，通过指针互相连接。分为单链表（存储下一个节点的位置）和双链表（子节点和父节点的位置都有存储）

**栈**：先进后出，有栈顶

**队列**：先进先出，队首和队尾

**树：**是指树中节点的度不大于2的有序树。平衡二叉树（hashmap），哈夫曼树

**图：**

### 复杂度

**时间复杂度：**表示代码执行时间的增长变化趋势的

**空间复杂度：**一个算法在运行过程中临时占用存储空间大小的一个量度，同样反映的是一个趋势

### 排序

[Bucket Sort Visualization (usfca.edu)](https://www.cs.usfca.edu/~galles/visualization/BucketSort.html)

[[算法总结] 十大排序算法](https://zhuanlan.zhihu.com/p/42586566)

![img](https://pic2.zhimg.com/80/v2-f718f6b01ad35a60b9d4f02330f81439_720w.jpg)

### 查找

[[Data Structure & Algorithm] 七大查找算法 - Poll的笔记 - 博客园 (cnblogs.com)](https://www.cnblogs.com/maybe2030/p/4715035.html)

### 哈希

**Hash**也称散列、哈希，对应的英文都是Hash。基本原理就是把任意长度的输入，通过Hash算法变成固定长度的输出。这个映射的规则就是对应的Hash算法。不可逆

## 操作系统

### 什么是操作系统：

**操作系统** 是管理计算机硬件与软件资源的计算机程序。 操作系统需要处理如管理与配置内存、决定系统资源供需的优先次序、控制输入设备与输出设备、操作网络与管理文件系统等基本事务。 操作系统也提供一个让用户与系统交互的操作界面。

### Linux 指令

[面试常见的Linux命令及问题整理](https://blog.csdn.net/zlx312/article/details/79398557)

### 进程和线程

**进程**是具有一定独立功能的程序,进程是系统进行资源分配和调度的一个独立单位。

**线程**是进程的一个实体,是CPU调度和分派的基本单位,它是比进程更小的能独立运行的基本单位

### 进程间的通信

* 管道（pipe）：管道是一种半双工的通信方式，数据只能单向流动，而且只能在有血缘关系的进程间使用，进程的血缘关系是指父子进程关系
* 命名管道（named pipe）： 也是半双工的通信方式，但是它允许无亲缘关系进程间的通信
* 信号（signal）：信号是一种比较复杂的通信方式，用于通知接收进程某一事件已经发生
* 信号量（semophere）：信号量是一个计数器，可用来控制多个进程对共享资源的访问。它通常作为一种锁机制，防止某进程正在访问共享资源，其它进程也访问该资源。因此，主要作为进程间以及同一进程内不同线程之间的同步手段。
* 消息队列（message queue）：消息队列是由消息组成的链表，存放在内核中，并由消息队列标识符标识。消息队列克服了信号传递消息少，缓冲区有限的缺点。具有写权限的进程可以按照一定的规则向消息队列中添加新消息；对消息队列有读权限的进程可以从消息队列中读取信息。
* 共享内存（shared memory）： 可以说这是最有用的进程间通信方式。**就是映射一段能被其他进程所访问的内存，这段内存由一个进程创建，但多个进程都可以访问，不同进程可以即使看到对方进程中对共享内存中数据的更新。**共享内存是最快的IPC方式。**它是针对其它进程间的通信方式运行效率低而专门设计的。这种方式往往需要依赖某种同步操作，如互斥锁和信号量等。
* 套接字（socket）：这是一种更为一般的进程间通信机制，它可用于网络中不同机器之间 的进程间通信，应用非常广泛。

### 并行和并发

[并发和并行](https://laike9m.com/blog/huan-zai-yi-huo-bing-fa-he-bing-xing,61/)

### cpu 如何工作

### 虚拟内存

**虚拟内存**是计算机系统内存管理的一种技术。它使得应用程序认为它拥有连续可用的内存（一个连续完整的地址空间），而实际上，它通常是被分隔成多个物理内存碎片，还有部分暂时存储在外部磁盘存储器上，在需要时进行数据交换。与没有使用虚拟内存技术的系统相比，使用这种技术的系统使得大型程序的编写变得更容易，对真正的物理内存（例如RAM）的使用也更有效率。

### 物理地址和逻辑地址

* **物理地址**，CPU地址总线传来的地址，由硬件电路控制（现在这些硬件是可编程的了）其具体含义。物理地址中很大一部分是留给内存条中的内存的，但也常被映射到其他存储器上（如显存、BIOS等）。

* **逻辑地址**是在有地址变换功能的计算机中,访内指令给出的地址 (操作数) 叫逻辑地址,也叫相对地址，也就是是机器语言指令中，用来指定一个操作数或是一条指令的地址。要经过寻址方式的计算或变换才得到内存储器中的实际有效地址即物理地址

## 计算机网络

### 计算机网络干什么？

从整体上来说计算机网络就是把分布在不同地理区域的计算机与专门的外部设备用通信线路互联成一个规模大、功能强的系统，从而使众多的计算机可以方便地互相传递信息，共享硬件、软件、数据信息等资源。 简单来说，计算机网络就是由通信线路互相连接的许多自主工作的计算机构成的集合体。

### 计算机网络的分层

[计算机网络体系结构 各分层结构 ](https://www.huaweicloud.com/articles/4eb2b36543f3a8f2a6454e571146f44a.html)

![计算机网络体系结构 各分层结构1](https://res-static.hc-cdn.cn/fms/img/fe136ff4ea9475434b1748dc007d15c21603447156040)

### 输入一个url，浏览器跳转到一个 url 页面 的过程

1. URL 解析：判断是否URL合法，并对内容进行编码等操作

2. DNS 查询：

   ![img](https://pic2.zhimg.com/80/v2-4e68ba51d411b26b607307dbd83a97ed_720w.png)

   对于查询顺序：

   ![img](https://raw.githubusercontent.com/Bogdanxin/cloudImage/master/20210227095715.jpg)

   注意：

   1. 递归方式：一路查下去，不返回，直到得到结果才会返回信息（浏览器到本地 DNS 服务器的过程）。
   2. 迭代方式：本地DNS服务器到根域名服务器查询的方式
   3. DNS 劫持 

3. TCP 连接

   1. 应用层：发起HTTP请求，创建 HTTP 报文（请求头和请求体）
   2. 传输层：发起 TCP 连接，三次握手（注意四次挥手）
   3. 网络层：通过 IP 地址查找 MAC 地址
   4. 链路层：根据以太网协议，以“帧” 为单位，进行广播

4. 处理请求

   服务器接收到请求后，回对连接进行处理（重定向、URL重写、请求处理）。

5. 接受响应

   浏览器接收到服务器的响应资源后，对资源进行分析

6. 渲染页面

   浏览器对接收的资源进行解析，进而渲染页面

### TCP 协议

**传输控制协议：**面向连接、可靠的、基于字节流的传输控制协议

#### **三次握手：**

![三次握手](https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwNjA1MTEwNDA1NjY2?x-oss-process=image/format,png)

**第一次握手**：客户端请求建立连接，向服务器发送一个 同步 SYN = 1，确认 ACK = 0，序号 seq = x 的一个报文。以表示客户端请求建立连接。

服务器可以得到结论：客户端发送能力、服务器接收能力是没有问题的

**第二次握手**：服务器同意建立连接，则会向客户端发送一个 同步 SYN=1，确认 ACK = 1，序号 seq = y，确认号 ack = x + 1的报文。

客户端接收到报文后，得出结论：客户端的接收、发送能力，服务器的接收、发送能力都是没有问题

**第三次握手**：客户端接收到该报文后，则会再发送一个确认 ACK=1，序号 seq=x+1，确认号 ack=y+1 的报文

在第一次握手中，服务器只知道服务器的接收能力、客户端发送能力是没有问题的，但还是不知道服务器发送能力、客户端的接受能力是否有问题，所以需要客户端再次发送一次报文，表明自己接收到了服务器的报文。进而服务器得出结论：服务器的发送能力和客户端的接受能力都是没有问题的

> **为什么TCP客户端最后还要发送一次确认呢？**
>
> 主要防止已经失效的连接请求报文突然又传送到了服务器，从而产生错误。
>
> 如果使用的是两次握手建立连接，假设有这样一种场景，客户端发送了第一个请求连接并且没有丢失，只是因为在网络结点中滞留的时间太长了，由于TCP的客户端迟迟没有收到确认报文，以为服务器没有收到，此时重新向服务器发送这条报文，此后客户端和服务器经过两次握手完成连接，传输数据，然后关闭连接。此时此前滞留的那一次请求连接，网络通畅了到达了服务器，这个报文本该是失效的，但是，两次握手的机制将会让客户端和服务器再次建立连接，这将导致不必要的错误和资源的浪费。
>
> 如果采用的是三次握手，就算是那一次失效的报文传送过来了，服务端接受到了那条失效报文并且回复了确认报文，但是客户端不会再次发出确认。由于服务器收不到确认，就知道客户端并没有请求连接。



#### 四次挥手

![四次挥手](https://imgconvert.csdnimg.cn/aHR0cDovL2ltZy5ibG9nLmNzZG4ubmV0LzIwMTcwNjA2MDg0ODUxMjcy?x-oss-process=image/format,png)

1. 客户端进程发出连接释放报文，并且停止发送数据。释放数据报文首部，**终止 FIN=1，序列号为 seq=u（等于前面已经传送过来的数据的最后一个字节的序号加1）**，此时，客户端进入FIN-WAIT-1（终止等待1）状态。 TCFIN报文段即使不携带数据，也要消耗一个序号。
2. 服务器收到连接释放报文，发出响应报文，确认ACK=1，确认号 ack=u+1，序列号seq=v，此时，服务端就进入了CLOSE-WAIT（关闭等待）状态。这时候处于半关闭状态，即客户端已经没有数据要发送了，但是服务器若发送数据，客户端依然要接受。这个状态还要持续一段时间，也就是整个CLOSE-WAIT状态持续的时间。
3. 客户端收到服务器的确认请求后，就进入FIN-WAIT-2（终止等待2）状态，等待服务器发送连接释放报文（在这之前还需要接受服务器发送的最后的数据）。
4. 服务器将最后的数据发送完毕后，就向客户端发送连接释放报文，终止FIN=1，确认号 ack=u+1，序列号seq=w，由于在半关闭状态，服务器很可能又发送了一些数据。服务器就进入了LAST-ACK（最后确认）状态。
5. 客户端收到服务器的连接释放报文后，必须发出确认，确认ACK=1，确认号ack=w+1，序列号是seq=u+1。客户端就进入了TIME-WAIT（时间等待）状态。注意此时TCP连接还没有释放，必须经过2 * MSL（最长报文段寿命）的时间后，当客户端撤销相应的TCB后，才进入CLOSED状态。
   服务器只要收到了客户端发出的确认，立即进入CLOSED状态。同样，撤销TCB后，就结束了这次的TCP连接。可以看到，服务器结束TCP连接的时间要比客户端早一些。

> **为什么客户端还要最后等待 2MSL ？**
>
> MSL（Maximum Segment Lifetime），TCP允许不同的实现可以设置不同的MSL值。
>
> 第一，保证客户端发送的最后一个ACK报文能够到达服务器，因为这个ACK报文可能丢失，站在服务器的角度看来，我已经发送了FIN+ACK报文请求断开了，客户端还没有给我回应，应该是我发送的请求断开报文它没有收到，于是服务器又会重新发送一次，而客户端就能在这个2MSL时间段内收到这个重传的报文，接着给出回应报文，并且会重启2MSL计时器。
>
> 第二，防止出现“已经失效的连接请求报文段”。客户端发送完最后一个确认报文后，在这个2MSL时间中，就可以使本连接持续的时间内所产生的所有报文段都从网络中消失。这样新的连接中不会出现旧连接的请求报文

### TCP 状态大图

###  HTTP 协议

[HTTP 协议 · 笔试面试知识整理](https://hit-alibaba.github.io/interview/basic/network/HTTP.html)

**超文本传输协议**，服务器传输超文本到本地浏览器的传输协议

#### HTTP 报文

##### 请求报文

HTTP 协议是以 ASCII 码传输，建立在 TCP/IP 协议之上的应用层规范。规范把 HTTP 请求分为三个部分：状态行、请求头、消息主体。类似于下面这样：

```
<method> <request-URL> <version>
<headers>

<entity-body>
```

HTTP 定义了与服务器交互的不同方法，最基本的方法有4种，分别是`GET`，`POST`，`PUT`，`DELETE`。`URL`全称是资源描述符，我们可以这样认为：一个`URL`地址，它用于描述一个网络上的资源，而 HTTP 中的`GET`，`POST`，`PUT`，`DELETE`就对应着对这个资源的查，增，改，删4个操作。

1. GET 用于信息获取，而且应该是安全的 和 幂等的。

   所谓安全的意味着该操作用于获取信息而非修改信息。换句话说，GET 请求一般不应产生副作用。就是说，它仅仅是获取资源信息，就像数据库查询一样，不会修改，增加数据，不会影响资源的状态。

   幂等的意味着对同一 URL 的多个请求应该返回同样的结果。

   GET 请求报文示例：

   ```
    GET /books/?sex=man&name=Professional HTTP/1.1
    Host: www.example.com
    User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6)
    Gecko/20050225 Firefox/1.0.1
    Connection: Keep-Alive
   ```

2. POST 表示可能修改变服务器上的资源的请求。

   ```
    POST / HTTP/1.1
    Host: www.example.com
    User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6)
    Gecko/20050225 Firefox/1.0.1
    Content-Type: application/x-www-form-urlencoded
    Content-Length: 40
    Connection: Keep-Alive
   
    sex=man&name=Professional  
   ```

3. 注意:

   - GET 可提交的数据量受到URL长度的限制，HTTP 协议规范没有对 URL 长度进行限制。这个限制是特定的浏览器及服务器对它的限制
   - 理论上讲，POST 是没有大小限制的，HTTP 协议规范也没有进行大小限制，出于安全考虑，服务器软件在实现时会做一定限制
   - 参考上面的报文示例，可以发现 GET 和 POST 数据内容是一模一样的，只是位置不同，一个在 URL 里，一个在 HTTP 包的包体里
   - 在 HTTP 协议中 POST 提交的数据必须在 body 中，但是并没有规定使用哪种编码方式。所以可以自己根据自己的实际问题进行操作

##### 响应报文

HTTP 响应与 HTTP 请求相似，HTTP响应也由3个部分构成，分别是：

- 状态行
- 响应头(Response Header)
- 响应正文

状态行由协议版本、数字形式的状态代码、及相应的状态描述，各元素之间以空格分隔。

常见的状态码有如下几种：

- `200 OK` 客户端请求成功
- `301 Moved Permanently` 请求永久重定向
- `302 Moved Temporarily` 请求临时重定向
- `304 Not Modified` 文件未修改，可以直接使用缓存的文件。
- `400 Bad Request` 由于客户端请求有语法错误，不能被服务器所理解。
- `401 Unauthorized` 请求未经授权。这个状态代码必须和WWW-Authenticate报头域一起使用
- `403 Forbidden` 服务器收到请求，但是拒绝提供服务。服务器通常会在响应正文中给出不提供服务的原因
- `404 Not Found` 请求的资源不存在，例如，输入了错误的URL
- `500 Internal Server Error` 服务器发生不可预期的错误，导致无法完成客户端的请求。
- `503 Service Unavailable` 服务器当前不能够处理客户端的请求，在一段时间之后，服务器可能会恢复正常。

#### Cookie 和 Session 

cookie 存放在客户端，记录用户信息，是实现 session 的一种方式。

session 存在于服务器，但是 session 的实现需要 cookie 的帮助，或者说 sessionId 的判断需要 cookie 的帮助

> **当浏览器禁用了 cookie 怎么办？**
>
> 使用url重写的方式，将信息通过url添加



####  GET 和 POST 区别

[GET 和 POST 到底有什么区别](https://www.zhihu.com/question/28586791)

### DNS 是什么？

[DNS 和 DNS 劫持](https://juejin.cn/post/6844903863623876622)

> 主机名.次级域名.顶级域名.根域名
>
> ``www.tungee.com.root``

域名系统。是将域名和IP地址互相映射的分布式服务器。一个服务器ip可以对应多个域名

> DNS 劫持：域名劫持，DNS 重定向
>
> DNS 查询没有得到正确解析，以至于引导用户访问恶意网站，从而窃取用户隐私。

### HTTP 和 HTTPS 以及安全性

### 网关是什么？正向、反向代理分别是什么？

#### 网关：

网关是网络中一种角色，指的是网络中的一个出口。

#### **正向代理：**

是位于客户端和原始服务器之间的服务器，客户端为了从原始服务器获取内容，向代理服务器发送请求，并指定目标，然后代理服务器转交请求将获得的内容返回给客户端。

作用：

1. 加速访问原始服务器
2. cache 作用（缓存原始服务器）
3. 客户端访问授权（通过代理服务器过滤不同用户对外网的访问）
4. 隐藏行踪，通过代理服务器访问原服务器从而隐藏用户的行踪

#### **反向代理：**

和正向代理相反，对客户端，代理服务器就像原始服务器，并且客户端不需要任何设置，只需要向代理服务器发出请求，代理服务器将请求发送给原始服务器，原始服务器将回复通过代理服务器发送给客户端。客户端在这种情况下是并不知情的，以为自己访问的是原始服务器。

作用：

1. 保护和隐藏原始资源服务器
2. 负载均衡

## MySQL 

### 数据库是什么？SQL 是什么？

数据库是按照数据结构来组织、存储和管理数据的仓库”。是一个长期存储在计算机内的、有组织的、可共享的、统一管理的大量数据的集合。

SQL（Structured Query Language）：结构化查询语句，程序语言，用于访问操作数据库。

### 事务

**事务**是访问并可能操作各个数据项的一个数据库操作序列，这些操作要么全部执行，要么全部不执行，是一个不可分割的单位。

#### 特性：

* 原子性（Atomicity）：事务作为一个整体被执行，包含在其中的对数据库操作要么全部被执行，要么都不执行
* 一致性（Consistency）：事务应该确保数据库状态从一个一致性状态转变为另一个一致状态。
* 隔离性（Isolation）：多个事务并发执行时，一个事务的执行不会影响其他事务的执行
* 持久性（Durability）：一个事务一旦提交，他对数据库的修改应该永久保存在数据库中

### 锁

### 索引

### 常见MySQL引擎

### 常用 SQL优化

[常用SQL优化方法](https://blog.csdn.net/wufaliang003/article/details/79875383)

1. 避免使用 != 、<> 操作符，否则引擎将会进行全表扫描
2. 查询优化，尽量减少全表扫描，考虑在 where 或者 order by 对应的列建立索引
3. 尽量避免where 子句中进行 null 值判断，可以将数值列上设置默认值为0
4. 避免where 子句使用or、in、not in 连接条件，否则也会导致全表扫描，使用 between and
5. 避免where子句进行表达式操作、函数操作
6. 复合索引，要让第一个索引尽可能使字段顺序与索引顺序一致
7. 索引不是越多越好，适当建立索引
8. 尽可能处理数字类型字段
9. 不要使用 select * from ，而是要查询指定的字段
10. 尽可能使用 varchar 代替 char 类型，变长字符串节约空间

## Redis

## Java 语言

