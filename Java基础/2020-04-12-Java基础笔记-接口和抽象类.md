[TOC]

# 抽象类和接口

## 抽象类：

1. 带有abstract关键字的方法就是抽象类
2. 抽象类不必一定要有抽象方法（但是这样就没有意义了）
3. 抽象类就是用来继承的，自己无法创建对象。子类全部实现方法后，才能创建（如果子类没有全部实现，他也是抽象类）。
4. 抽象方法必须修饰为public或者protected，private是不行的

## 接口：

1. 接口中的方法都是抽象方法（隐式的定义为public abstract）
2. 接口中的变量都会被隐式定义为public static final变量。一般不会在接口中定义一个变量。
3. 相对于抽象类，接口更加抽象化，抽象类反倒是不是那么抽象了

## 两者区别：

1. 语法层面上
   * 抽象类可以**提供具体实现方法细节**，但是接口不行
   * 抽象类的成员变量可以多种，但是接口的只有一种，就是public static final ，而且是一个常量。接口中`int a = 1`或者`public int a = 1`等等，都是会自己加上所有的修饰符`public static final`。
   * 一个类只能继承一个抽象类，但是能实现多个接口
   * 抽象方法可以有静态代码块，静态方法，但是接口只能由抽象方法
   * 抽象类除了不能实例化，和普通类没有区别
   * **JDK8中，接口也可以定义静态方法，可以直接用接口名调用（面向函数编程）**。实现类和实现是不可以调用的。如果同时实现两个接口B extends A，接口中定义了一样的默认方法，则必须重写，不然会报错。

* 声明在类中的方法要优先于任何默认方法

```
关于抽象类
 JDK 1.8以前，抽象类的方法默认访问权限为protected
 JDK 1.8时，抽象类的方法默认访问权限变为default
 关于接口
 JDK 1.8以前，接口中的方法必须是public的
 JDK 1.8时，接口中的方法可以是public的，也可以是default的,有默认实现(default)，可以重写
 JDK 1.9时，接口中的方法可以是private的
```

2. 设计层面
   * 抽象类是对一种事物的抽象，即对类抽象，而接口是对行为的抽象，接口是对抽象方法的集合
   * 继承是一个“是不是”的关系，接口是“有没有”的关系
   * 设计层面不同，抽象类作为子类的父类，是一种**模板式设计**，而接口时一种**行为规范**，是一种**辐射式接口**

## 接口的变化：

1. JDK7：

   * 所有成员变量只能是静态常量，`public static final`
   * 所有成员方法只能是抽象方法，默认是`public abstract`修饰，但是也可以使用`protected`修饰
   * 接口中的方法没有方法体
   * **实现接口的类**必须实现接口所有的方法

2. JDK8：

   * 在JDK7基础上

   * 可以定义静态方法
   * 可以定义默认方法

3. JDK9:

   * 在JDK8基础上
   * 可以定义私有方法
   * 可以定义私有静态方法（私有方法必须是自己实现的，私有就是为了防止别人访问，这就导致要自己实现了）

## 成员变量和局部变量的区别

* 成员变量在方法外部定义，若被static修饰，属于类，否则属于对象实例。局部变量在方法内部定义，属于方法。
* 局部变量不能被**访问控制修饰和static修饰**，但是成员和局部变量都能被final修饰
* 成员变量是对象的一部分，而局部变量随着方法调用而自动消失
* 成员变量会自动赋初值（构造器、set方法等），局部变量不会。即使是final的成员变量也必须显示的赋值（在声明时候就已经赋值了）

## 对象实体和对象引用

* 对象的new 是创建一个实例，放在堆内存中，对象引用是指向对象实例，引用放在栈内存中。
* 对象的相等（equals）是比较内存中存放的内容是否相同，而引用相等（==）比较的是内存地址是否相等

### == 和 equals

* == 比较的是内存地址，而equals比较的是内存中的内容，只有比较基本类型时是比较值
* Object类默认方法是比较的内存地址，所以声明类的过程中，要重写equals方法，用来比较内容是否相等

